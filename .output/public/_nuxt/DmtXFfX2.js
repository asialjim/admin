import{E as V,a as U,b as x}from"./BAw1MrN-.js";import{E as h}from"./BmJm0hZK.js";import{d as v,r as m,K as g,x as y,z as d,B as o,C as s,J as k,g as C,y as E,D as p,L as D,M as P}from"./yHbOXYhg.js";import{_ as B}from"./DlAUqK2U.js";const F={class:"register-container"},R={class:"register-form-wrapper"},q={class:"login-link"},M=v({__name:"register",setup(T){const c=k(),u=m(),n=m(!1),r=g({appid:"",chlUserId:"",password:"",confirmPassword:""}),f=g({appid:[{required:!0,message:"请输入应用ID",trigger:"blur"},{min:1,max:50,message:"应用ID长度在 1 到 50 个字符",trigger:"blur"}],chlUserId:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:32,message:"密码长度在 6 到 32 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(i,e,l)=>{e!==r.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]}),_=async()=>{var i;try{await((i=u.value)==null?void 0:i.validate()),n.value=!0;const e={appid:r.appid,chlType:"PC",chlAppId:"CMS",chlAppType:"CMS",chlUserId:r.chlUserId,chlUnionId:"",chlUserCode:r.password,chlUserToken:""};await D.register("/api/open/admin/user/user/registrar/register",e),P.success("注册成功"),c.push("/login")}catch{}finally{n.value=!1}};return(i,e)=>{const l=x,a=U,w=h,I=C("router-link"),b=V;return E(),y("div",F,[d("div",R,[e[7]||(e[7]=d("h2",null,"注册账号",-1)),o(b,{ref_key:"registerFormRef",ref:u,model:r,rules:f,class:"register-form","label-position":"top"},{default:s(()=>[o(a,{label:"应用ID",prop:"appid"},{default:s(()=>[o(l,{modelValue:r.appid,"onUpdate:modelValue":e[0]||(e[0]=t=>r.appid=t),placeholder:"请输入应用ID","prefix-icon":"el-icon-setting"},null,8,["modelValue"])]),_:1}),o(a,{label:"用户名",prop:"chlUserId"},{default:s(()=>[o(l,{modelValue:r.chlUserId,"onUpdate:modelValue":e[1]||(e[1]=t=>r.chlUserId=t),placeholder:"请输入用户名","prefix-icon":"el-icon-user"},null,8,["modelValue"])]),_:1}),o(a,{label:"密码",prop:"password"},{default:s(()=>[o(l,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=t=>r.password=t),type:"password",placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":""},null,8,["modelValue"])]),_:1}),o(a,{label:"确认密码",prop:"confirmPassword"},{default:s(()=>[o(l,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>r.confirmPassword=t),type:"password",placeholder:"请再次输入密码","prefix-icon":"el-icon-lock","show-password":""},null,8,["modelValue"])]),_:1}),o(a,null,{default:s(()=>[o(w,{type:"primary",class:"register-button",loading:n.value,onClick:_},{default:s(()=>[...e[4]||(e[4]=[p(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1}),d("div",q,[e[6]||(e[6]=p(" 已有账号？",-1)),o(I,{to:"/login"},{default:s(()=>[...e[5]||(e[5]=[p("返回登录",-1)])]),_:1})])]),_:1},8,["model","rules"])])])}}}),J=B(M,[["__scopeId","data-v-e2f320a4"]]);export{J as default};
